# 开源起始

## 如何为开源做贡献

开源不一定是为了利益,更多的是挑战自己,在过程中收获信心和新体验.

- 为啥要给开源做贡献
    - 回报比贡献大:学习得到的/受教的/锻炼的经验
    - 锻炼方面:代码编写/界面设计/图形设计/撰写文档/组织活动/实践愿望
    - 找到志同道合的人
    - 学习他人,帮助他人
    - 对职业有一定帮助
    - 实践领导和管理艺术:解决冲突/组织团队/工作优先级安排
    - 鼓励改变
- 什么才算是贡献
    - 编码只是开源的一部分
    - 热衷于规划事件:组织研讨会/线下分享;组织大型会议;组织技术会议,准备演讲拟稿
    - 偏向设计:重置布局提高项目可用性;项目的导航和菜单;整理风格指南;设计t恤
    - 热衷协作:撰写/改进项目文档;撰写新闻稿;邮件布道;撰写教程/翻译
    - 喜欢组织活动:链接重复问题,新建问题标签,使项目井井有条;open新问题,建议关闭旧问题;把open的问题阐述清楚
    - 喜欢编码:修复bug;添加新功能;自动化项目设置;改进工具和测试
    - 热衷于帮助他人:在stack overflow回答问题;缓和讨论板和对话渠道
    - 编码上帮助他人:代码审核;撰写教程;为其他贡献者做导师
    - 开源的不一定是软件项目,也可以是菜谱/电影推荐/面试题
- 参与一个新项目 - 分析感兴趣的项目
    - 不要盲目在项目中游荡,第一步是先静下心来学习规则
    - 每一个开源项目中的规则都是不同的:词汇/习惯用语/沟通方式都可能不一致
    - 理解社区角色和全部流程,可以更快的切入新项目
    - 一般开源项目的角色有以下几类:
        - 作者, 项目的创始人或创始组织
        - 归属者, 仓库或组织的管理员(这个管理员可能和作者可能不是同一人)
        - 维护者, 贡献者,负责项目的未来走向和组织的管理(一般是作者或归属者)
        - 贡献者, 只要为项目作出贡献,都算
        - 社区成员, 项目的实际使用者,也许是积极讨论者,也许是为项目方向提出意见的人
    - 一般大的开源项目下面可能会有多个子社区,或是针对不同任务的小组
        - 工具组/分流组/社区事物组/活动组织组
        - 这些子社区/小组的信息可以在项目站点的team页面查找,或是仓库文档查找
    - 一般开源项目都有文档,下面几个文档会出现在仓库的根目录下
        - LICENSE, 许可协议,没有许可协议,就不能叫开源
        - README, 项目的介绍文档,欢迎初次光临的人/解释项目的作用/为何发起/如何快速入门
        - CONTRIBUTING, 帮助人们如何对项目做贡献
        - CODE_OF_CONDUCT, 行为准则,一定程度上展示了对贡献者的友好程度
        - 其他文档, 教程等
    - 一般开源会利用如下工具来组织讨论
        - issues跟踪, 讨论项目相关问题的地方
        - pull requests, 代码审核,以及相关问题的讨论
        - 论坛/邮件列表, 会话式主题,讨论全部实用问题追踪
        - 即时在线聊天,slack/irc
- 参与一个新项目 - 找一个新项目
    - 项目可以在很多地方很多渠道去找,之后任何方面的贡献都可以去做
    - 找到一个项目后,判断其是否合适自己去做贡献,下面是个checklist
    - 许可协议
        - 是否有许可协议,没有的话,表示并不开源
    - master活跃度
        - 最后一次提交时间
        - 项目贡献者数量
        - 提交频率
    - issue数量
        - open的有多少
        - 维护者对open的issue响应是否迅速
        - 是否有讨论活跃的issue
        - issus是否是近期产生
        - 有没有closed的issus
    - pr
        - 有多少open的pr
        - 提交pr后,维护者响应是否迅速
        - 是否有讨论活跃的pr
        - 是否是近期pr
        - 近期有多少pr合并
    - 项目受欢迎程度
        - issue中,维护者的回答是否有帮助
        - issue/即时聊天/论坛是否友好
        - pr是否有review
        - 维护者是否对贡献者说声"谢谢" 
- 如何做贡献
    - 贡献是在有效沟通的基础上,开启一个issue或pr
    - 有效沟通,在issue和pr之前
        - 给出上下文,便于他人理解
            - 收集上下文的过程中,要检查 readme/文档/issue/邮件列表/stack overflow
            - 确保自己的想法是没有被讨论过的
            - 之后就可以开启一个issue或pr
                - issue 是开启一次讨论或对话
                - pr 是请求接收自己的解决方法
                - 贡献之前最好开一个issue,免得pr被拒绝,避免浪费精力
        - 在行动之前,做好准备工作.(阅读readme/文档/issue/邮件列表/必要的搜索)
        - 内容短小直接
        - 所有的沟通都在公共场合,不要私信维护者,除非是敏感信息(安全问题/重大过失)
        - 大胆提问
        - 尊重社区决定
        - 保持优雅
    - 创建一个issue
        - 创建时机:
            - 报告一个自己无法解决的bug
            - 讨论一个高级主题或想法
            - 期望实现某些新特性
        - issue沟通中的技巧
            - 遇到一个open的issue,打算自己解决,添加评论,告知他人我会负责这个issue,避免重复劳动
            - 遇到一个长时间open的issue,或许有人正在解决中,或是已解决.添加评论,确认一下
            - 自己创建的issue,解决之后,添加评论,让其他人知道
    - 创建一个pull request
        - 必须使用pr的情况
            - 提交补丁(拼写错误/解决坏链/解决明显错误)
            - 开始一项别人请求的任务,或是过去issue中讨论过的任务
        - 尽早开启一个pr,其他人或作者就可以反馈意见,子标题可标记为wip(正在进行中)
        - 使用github托管项目,关于pr,还有以下建议:
            - fork + pr 模型, 可以减少解决冲突的时间
            - 创建一个分支,用于自己编辑
            - 参考相关issue,或在pr中支持文档(eg:closes#12)
            - 包括之前之后的快照
            - 测试变更,达到一定覆盖率,确保自己的改动步不会破坏现有项目
            - 和项目现有风格保持一致,缩进/分号/注释
- 做出贡献后,会出现以下几种情况
    - 无人响应
        - 一周内无人响应很正常
        - 一周后,在issue后添加评论,请求他人审核,用@系统提醒他人
        - 不要私信他人,保证所有的沟通都在公开地方.
    - 有人要求对提交作出变更
        - 这是常有的事
        - 如果没有时间继续在此issue上工作,可以告知维护者,让他人接手工作
    - 拒绝
        - 这是常有的事,随着项目的发展,当前issue可能不适合了,或pr质量不够
        - 这也是一个进步的机会
    - 接收
        - 这是常有的事,也是非常鼓舞人心的事
- 开源就是一个个贡献累积的,优秀的质量也不是一步就写出来的
    - 循环以下节奏:
        - 开启一个issue
        - 提交pr
        - 评论 讨论 收集反馈 直到接收

## 如何开源一个项目

- 开源是什么,为什么要开源
    - 开源意味着任何人都可以查看/使用/修改/分发
    - 开源让想法迅速传播(docker如果不开源,理念被接受估计还得好多年)
    - 开源的起因可能有多种:协作/采用/重组/透明度等
    - 开源的一个副产品是免费
- 是否应该启动自己的开源项目
    - 需要,第一步要明确目标,为啥要开源这个项目,即使目标仅仅是处于炫耀
    - 如果需要其他协作者,把文档整理清晰,让参与者感到欢迎,都很重要
    - 到了一定程度,项目需要其他贡献者,代码/回应问题/代码审查/项目传播都是重要任务
- 开源一个项目,不仅仅局限于现在的工作
    - 一个想法
    - 正在进行的工作
    - 多年前的代码
    - 开源项目中必要的几个文档:
        - license 许可证
        - readme 描述这个项目是什么/产生目的/如何快速入门/可以从哪里获取帮助
        - contributing 描述如何为这个项目做贡献
        - code_of_conduct 行为准则
- 项目的命名和标记
    - 名字要选正确:简单 正确 有创意 能表达项目的意思
    - 如果项目是基于已存在项目,就使用她的名字做前缀
    - 避免命名冲突

